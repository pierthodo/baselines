[nia0368.scinet.local:284333] pml_ucx.c:224 Error: UCP worker does not support MPI_THREAD_MULTIPLE
Logging to /tmp/openai-2018-09-12-14-30-49-207508
--------------------------------------------------------------------------
A process has executed an operation involving a call to the
"fork()" system call to create a child process.  Open MPI is currently
operating in a condition that could result in memory corruption or
other system errors; your job may hang, crash, or produce silent
data corruption.  The use of fork() (or system() or other calls that
create child processes) is strongly discouraged.

The process that invoked fork was:

  Local host:          [[30309,1],0] (PID 284333)

If you are *absolutely sure* that your application will successfully
and correctly survive a call to fork(), you may disable this warning
by setting the mpi_warn_on_fork MCA parameter to 0.
--------------------------------------------------------------------------
Logging to /scratch/d/dprecup/pthodo/LOG_DIR/benchmark_3/beta_0.3_theta_0.1_decay_0/PongNoFrameskip-v4/10/
2018-09-12 14:31:07.477436: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA
Training ppo2 on atari:PongNoFrameskip-v4 with arguments 
{'nsteps': 128, 'nminibatches': 4, 'lam': 0.95, 'gamma': 0.99, 'noptepochs': 4, 'log_interval': 1, 'ent_coef': 0.01, 'beta': 0.3, 'theta': 0.1, 'lr': <function atari.<locals>.<lambda> at 0x2b4c7bdb7c80>, 'cliprange': <function atari.<locals>.<lambda> at 0x2b4c93467510>, 'decay': 0, 'network': 'cnn'}
Number of updates is :  976
0.3
0.1
Update number :  1
---------------------------------------
| approxkl           | 0.0011395211   |
| clipfrac           | 0.019091796    |
| eplenmean          | nan            |
| eprewmean          | nan            |
| explained_variance | -0.00338       |
| fps                | 596            |
| nupdates           | 1              |
| policy_entropy     | 1.790725       |
| policy_loss        | -0.00064750283 |
| serial_timesteps   | 128            |
| time_elapsed       | 17.2           |
| total_timesteps    | 10240          |
| value_loss         | 0.13977244     |
---------------------------------------
0.3
0.1
Update number :  2
---------------------------------------
| approxkl           | 0.00016956874  |
| clipfrac           | 0.0            |
| eplenmean          | nan            |
| eprewmean          | nan            |
| explained_variance | 0.00693        |
| fps                | 601            |
| nupdates           | 2              |
| policy_entropy     | 1.7909412      |
| policy_loss        | -0.00035888495 |
| serial_timesteps   | 256            |
| time_elapsed       | 34.2           |
| total_timesteps    | 20480          |
| value_loss         | 0.086785614    |
---------------------------------------
0.3
0.1
Update number :  3
---------------------------------------
| approxkl           | 8.2505525e-05  |
| clipfrac           | 0.0            |
| eplenmean          | nan            |
| eprewmean          | nan            |
| explained_variance | 0.00258        |
| fps                | 638            |
| nupdates           | 3              |
| policy_entropy     | 1.7911266      |
| policy_loss        | -0.00010732871 |
| serial_timesteps   | 384            |
| time_elapsed       | 50.3           |
| total_timesteps    | 30720          |
| value_loss         | 0.089092486    |
---------------------------------------
0.3
0.1
Update number :  4
---------------------------------------
| approxkl           | 0.00013600454  |
| clipfrac           | 0.0            |
| eplenmean          | nan            |
| eprewmean          | nan            |
| explained_variance | 0.000389       |
| fps                | 603            |
| nupdates           | 4              |
| policy_entropy     | 1.7906835      |
| policy_loss        | -0.00023167794 |
| serial_timesteps   | 512            |
| time_elapsed       | 67.2           |
| total_timesteps    | 40960          |
| value_loss         | 0.08055565     |
---------------------------------------
0.3
0.1
Update number :  5
-------------------------------------
| approxkl           | 0.0001600764 |
| clipfrac           | 0.0          |
| eplenmean          | nan          |
| eprewmean          | nan          |
| explained_variance | 0.00429      |
| fps                | 623          |
| nupdates           | 5            |
| policy_entropy     | 1.7888311    |
| policy_loss        | -7.24892e-05 |
| serial_timesteps   | 640          |
| time_elapsed       | 83.7         |
| total_timesteps    | 51200        |
| value_loss         | 0.07653813   |
-------------------------------------
0.3
0.1
Update number :  6
---------------------------------------
| approxkl           | 0.00017360834  |
| clipfrac           | 0.0            |
| eplenmean          | 762            |
| eprewmean          | -21            |
| explained_variance | 0.00612        |
| fps                | 617            |
| nupdates           | 6              |
| policy_entropy     | 1.788077       |
| policy_loss        | -0.00020832622 |
| serial_timesteps   | 768            |
| time_elapsed       | 100            |
| total_timesteps    | 61440          |
| value_loss         | 0.07784031     |
---------------------------------------
0.3
0.1
Update number :  7
--------------------------------------
| approxkl           | 0.00014141964 |
| clipfrac           | 0.0           |
| eplenmean          | 841           |
| eprewmean          | -20.7         |
| explained_variance | 0.00515       |
| fps                | 587           |
| nupdates           | 7             |
| policy_entropy     | 1.7865183     |
| policy_loss        | 3.5239937e-05 |
| serial_timesteps   | 896           |
| time_elapsed       | 118           |
| total_timesteps    | 71680         |
| value_loss         | 0.069479264   |
--------------------------------------
0.3
0.1
Update number :  8
---------------------------------------
| approxkl           | 0.0002218357   |
| clipfrac           | 0.0            |
| eplenmean          | 912            |
| eprewmean          | -20.4          |
| explained_variance | 0.0165         |
| fps                | 565            |
| nupdates           | 8              |
| policy_entropy     | 1.7851576      |
| policy_loss        | -0.00011021373 |
| serial_timesteps   | 1024           |
| time_elapsed       | 136            |
| total_timesteps    | 81920          |
| value_loss         | 0.06106797     |
---------------------------------------
0.3
0.1
Update number :  9
--------------------------------------
| approxkl           | 0.00016481207 |
| clipfrac           | 0.0           |
| eplenmean          | 934           |
| eprewmean          | -20.3         |
| explained_variance | 0.0097        |
| fps                | 616           |
| nupdates           | 9             |
| policy_entropy     | 1.7834222     |
| policy_loss        | -8.725449e-05 |
| serial_timesteps   | 1152          |
| time_elapsed       | 152           |
| total_timesteps    | 92160         |
| value_loss         | 0.06395332    |
--------------------------------------
0.3
0.1
Update number :  10
---------------------------------------
| approxkl           | 0.0005965762   |
| clipfrac           | 0.017456055    |
| eplenmean          | 945            |
| eprewmean          | -20.2          |
| explained_variance | 0.00986        |
| fps                | 599            |
| nupdates           | 10             |
| policy_entropy     | 1.781061       |
| policy_loss        | -0.00081351196 |
| serial_timesteps   | 1280           |
| time_elapsed       | 169            |
| total_timesteps    | 102400         |
| value_loss         | 0.06683037     |
---------------------------------------
0.3
0.1
Update number :  11
---------------------------------------
| approxkl           | 0.00095792254  |
| clipfrac           | 0.0            |
| eplenmean          | 950            |
| eprewmean          | -20.2          |
| explained_variance | 0.00934        |
| fps                | 625            |
| nupdates           | 11             |
| policy_entropy     | 1.7757427      |
| policy_loss        | -0.00040137506 |
| serial_timesteps   | 1408           |
| time_elapsed       | 186            |
| total_timesteps    | 112640         |
| value_loss         | 0.064415455    |
---------------------------------------
0.3
0.1
Update number :  12
--------------------------------------
| approxkl           | 0.00023719341 |
| clipfrac           | 0.0           |
| eplenmean          | 950           |
| eprewmean          | -20.2         |
| explained_variance | 0.0102        |
| fps                | 617           |
| nupdates           | 12            |
| policy_entropy     | 1.7676748     |
| policy_loss        | 0.00012076211 |
| serial_timesteps   | 1536          |
| time_elapsed       | 202           |
| total_timesteps    | 122880        |
| value_loss         | 0.070143074   |
--------------------------------------
0.3
0.1
Update number :  13
---------------------------------------
| approxkl           | 0.00027431812  |
| clipfrac           | 0.0            |
| eplenmean          | 938            |
| eprewmean          | -20.2          |
| explained_variance | 0.0186         |
| fps                | 618            |
| nupdates           | 13             |
| policy_entropy     | 1.7768042      |
| policy_loss        | -0.00017629101 |
| serial_timesteps   | 1664           |
| time_elapsed       | 219            |
| total_timesteps    | 133120         |
| value_loss         | 0.058706183    |
---------------------------------------
0.3
0.1
Update number :  14
---------------------------------------
| approxkl           | 0.00021594143  |
| clipfrac           | 0.0            |
| eplenmean          | 931            |
| eprewmean          | -20.2          |
| explained_variance | 0.0273         |
| fps                | 591            |
| nupdates           | 14             |
| policy_entropy     | 1.7810673      |
| policy_loss        | -0.00019117587 |
| serial_timesteps   | 1792           |
| time_elapsed       | 236            |
| total_timesteps    | 143360         |
| value_loss         | 0.060471527    |
---------------------------------------
0.3
0.1
Update number :  15
--------------------------------------
| approxkl           | 0.00042647417 |
| clipfrac           | 0.00024414062 |
| eplenmean          | 938           |
| eprewmean          | -20.2         |
| explained_variance | 0.029         |
| fps                | 595           |
| nupdates           | 15            |
| policy_entropy     | 1.7803103     |
| policy_loss        | -0.0005123432 |
| serial_timesteps   | 1920          |
| time_elapsed       | 254           |
| total_timesteps    | 153600        |
| value_loss         | 0.05809227    |
--------------------------------------
0.3
0.1
Update number :  16
--------------------------------------
| approxkl           | 0.00037980237 |
| clipfrac           | 0.0           |
| eplenmean          | 949           |
| eprewmean          | -20.1         |
| explained_variance | 0.028         |
| fps                | 581           |
| nupdates           | 16            |
| policy_entropy     | 1.7738552     |
| policy_loss        | -7.754508e-05 |
| serial_timesteps   | 2048          |
| time_elapsed       | 271           |
| total_timesteps    | 163840        |
| value_loss         | 0.05685434    |
--------------------------------------
0.3
0.1
Update number :  17
--------------------------------------
| approxkl           | 0.000606288   |
| clipfrac           | 0.0           |
| eplenmean          | 951           |
| eprewmean          | -20.1         |
| explained_variance | 0.0232        |
| fps                | 612           |
| nupdates           | 17            |
| policy_entropy     | 1.7681676     |
| policy_loss        | -0.0003117065 |
| serial_timesteps   | 2176          |
| time_elapsed       | 288           |
| total_timesteps    | 174080        |
| value_loss         | 0.05477037    |
--------------------------------------
0.3
0.1
Update number :  18
--------------------------------------
| approxkl           | 0.0013421269  |
| clipfrac           | 0.049584962   |
| eplenmean          | 952           |
| eprewmean          | -20.1         |
| explained_variance | 0.0237        |
| fps                | 611           |
| nupdates           | 18            |
| policy_entropy     | 1.7648169     |
| policy_loss        | -0.0008824037 |
| serial_timesteps   | 2304          |
| time_elapsed       | 305           |
| total_timesteps    | 184320        |
| value_loss         | 0.061211415   |
--------------------------------------
0.3
0.1
Update number :  19
---------------------------------------
| approxkl           | 0.0010500607   |
| clipfrac           | 0.027954102    |
| eplenmean          | 948            |
| eprewmean          | -20.1          |
| explained_variance | 0.032          |
| fps                | 623            |
| nupdates           | 19             |
| policy_entropy     | 1.7580332      |
| policy_loss        | -0.00026282677 |
| serial_timesteps   | 2432           |
| time_elapsed       | 321            |
| total_timesteps    | 194560         |
| value_loss         | 0.054862253    |
---------------------------------------
0.3
0.1
Update number :  20
---------------------------------------
| approxkl           | 0.00029381074  |
| clipfrac           | 0.0            |
| eplenmean          | 937            |
| eprewmean          | -20.2          |
| explained_variance | 0.0374         |
| fps                | 608            |
| nupdates           | 20             |
| policy_entropy     | 1.7579213      |
| policy_loss        | -0.00017596464 |
| serial_timesteps   | 2560           |
| time_elapsed       | 338            |
| total_timesteps    | 204800         |
| value_loss         | 0.062001485    |
---------------------------------------
0.3
0.1
Update number :  21
-------------------------------------
| approxkl           | 0.0002289934 |
| clipfrac           | 0.0          |
| eplenmean          | 910          |
| eprewmean          | -20.4        |
| explained_variance | 0.0504       |
| fps                | 589          |
| nupdates           | 21           |
| policy_entropy     | 1.7538959    |
| policy_loss        | 7.17125e-05  |
| serial_timesteps   | 2688         |
| time_elapsed       | 355          |
| total_timesteps    | 215040       |
| value_loss         | 0.054182388  |
-------------------------------------
0.3
0.1
Update number :  22
--------------------------------------
| approxkl           | 0.00014121828 |
| clipfrac           | 0.0           |
| eplenmean          | 918           |
| eprewmean          | -20.3         |
| explained_variance | 0.0589        |
| fps                | 566           |
| nupdates           | 22            |
| policy_entropy     | 1.7540648     |
| policy_loss        | -4.322657e-05 |
| serial_timesteps   | 2816          |
| time_elapsed       | 373           |
| total_timesteps    | 225280        |
| value_loss         | 0.057784587   |
--------------------------------------
slurmstepd: error: *** JOB 398642 ON nia0368 CANCELLED AT 2018-09-12T14:37:32 ***

scontrol show jobid 398642
JobId=398642 JobName=mpi_ex
   UserId=pthodo(3039931) GroupId=dprecup(6002510) MCS_label=N/A
   Priority=1734606 Nice=0 Account=def-dprecup QOS=normal
   JobState=COMPLETING Reason=None Dependency=(null)
   Requeue=0 Restarts=0 BatchFlag=1 Reboot=0 ExitCode=0:15
   RunTime=00:07:11 TimeLimit=06:00:00 TimeMin=N/A
   SubmitTime=2018-09-12T14:30:19 EligibleTime=2018-09-12T14:30:19
   StartTime=2018-09-12T14:30:21 EndTime=2018-09-12T14:37:32 Deadline=N/A
   PreemptTime=None SuspendTime=None SecsPreSuspend=0
   LastSchedEval=2018-09-12T14:30:21
   Partition=compute AllocNode:Sid=nia-login07:132667
   ReqNodeList=(null) ExcNodeList=(null)
   NodeList=nia0368
   BatchHost=nia0368
   NumNodes=1 NumCPUs=80 NumTasks=1 CPUs/Task=1 ReqB:S:C:T=0:0:*:*
   TRES=cpu=80,node=1,billing=40
   Socks/Node=* NtasksPerN:B:S:C=0:0:*:* CoreSpec=*
   MinCPUsNode=1 MinMemoryNode=0 MinTmpDiskNode=0
   Features=(null) DelayBoot=00:00:00
   Gres=(null) Reservation=(null)
   OverSubscribe=NO Contiguous=0 Licenses=(null) Network=(null)
   Command=/gpfs/fs0/scratch/d/dprecup/pthodo/utils/run_game.sh 10
   WorkDir=/gpfs/fs0/scratch/d/dprecup/pthodo/utils
   StdErr=/gpfs/fs0/scratch/d/dprecup/pthodo/utils/./output_dir/mpi_ex_398642.txt
   StdIn=/dev/null
   StdOut=/gpfs/fs0/scratch/d/dprecup/pthodo/utils/./output_dir/mpi_ex_398642.txt
   Power=

sacct -j 398642
       JobID    JobName    Account    Elapsed  MaxVMSize     MaxRSS  SystemCPU    UserCPU ExitCode 
------------ ---------- ---------- ---------- ---------- ---------- ---------- ---------- -------- 
398642           mpi_ex def-dprec+   00:07:11                        29:35.197   02:01:24      0:0 
398642.batch      batch def-dprec+   00:07:12 310074272K  21507488K  29:35.197   02:01:24     0:15 
